const feedbackButton = document.querySelector(".contacts-info__link-submit"),
  feedbackBlock = document.querySelector(".feedback"),
  feedbackClose = document.querySelector(".feedback-form__button-close"),
  sliderButtons = document.querySelectorAll(
    ".advertisement-controls__item-input"
  ),
  siteWrapper = document.querySelector(".site-wrapper"),
  titleList = document.querySelectorAll(".advertisement-list__item"),
  nameClient = document.getElementById("name-client"),
  emailClient = document.getElementById("email-client"),
  clientText = document.getElementById("client-text"),
  subscribeInput = document.querySelector(".subscription-form__input"),
  subscribeButton = document.querySelector(".subscription-form__button");
let isStorageSupport = !0;
const storage = "";
try {
  (storage = localStorage.getItem("nameClient")),
    (storage = localStorage.getItem("emailClient"));
} catch (e) {
  isStorageSupport = !1;
}
feedbackButton.addEventListener("click", function () {
  feedbackBlock.classList.toggle("form-feedback-show"), (clientText.value = "");
}),
  feedbackClose.addEventListener("click", function () {
    feedbackBlock.classList.remove("feedback-form-error"),
      (clientText.value = ""),
      feedbackBlock.classList.remove("form-feedback-show");
  }),
  subscribeButton.addEventListener("click", function (e) {
    subscribeInput.value
      ? (subscribeInput.style.outline = "none")
      : (e.preventDefault(),
        (subscribeInput.style.outline = "3px solid rgb(140, 13, 30, 0.5)"));
  }),
  window.addEventListener("keydown", function (e) {
    ("Esc" !== e.key && "Escape" !== e.key) ||
      (e.preventDefault(),
      feedbackBlock.classList.contains("form-feedback-show") &&
        (feedbackBlock.classList.remove("feedback-form-error"),
        feedbackBlock.classList.remove("form-feedback-show")));
  });
const sliderLabels = document.querySelectorAll(
  ".advertisement-controls__item-label"
);
for (let e = 0; e < sliderButtons.length; e++)
  sliderButtons[e].addEventListener("click", function () {
    sliderToggle1(e);
  }),
    sliderLabels[e].addEventListener("focus", function () {
      sliderToggle1(e);
    });
function sliderToggle1(e) {
  titleList.forEach((e, t) => {
    e.classList.contains("advertisement-list__item-current") &&
      (e.classList.remove("advertisement-list__item-current"),
      siteWrapper.classList.remove("site-wrapper-" + [t + 1]));
  }),
    sliderButtons.forEach((e) => (e.checked = !1)),
    titleList[e].classList.add("advertisement-list__item-current"),
    siteWrapper.classList.add("site-wrapper-" + [e + 1]),
    (sliderButtons[e].checked = !0);
}
const feedbackSubmit = feedbackBlock.querySelector('[type="submit"]');
console.log("feedbackSubmit"),
  feedbackSubmit.addEventListener("click", function (e) {
    nameClient.value
      ? (nameClient.style.outline = "none")
      : (e.preventDefault(),
        feedbackBlock.classList.add("feedback-form-error"),
        (nameClient.style.outline = "3px solid rgb(140, 13, 30, 0.5)"),
        feedbackButton.setAttribute("disabled", !0)),
      emailClient.value
        ? (emailClient.style.outline = "none")
        : (e.preventDefault(),
          feedbackBlock.classList.add("feedback-form-error"),
          (emailClient.style.outline = "3px solid rgb(140, 13, 30, 0.5)"),
          feedbackButton.setAttribute("disabled", !0)),
      clientText.value
        ? (clientText.style.outline = "none")
        : (e.preventDefault(),
          feedbackBlock.classList.add("feedback-form-error"),
          (clientText.style.outline = "3px solid rgb(140, 13, 30, 0.5)"),
          feedbackButton.setAttribute("disabled", !0)),
      storage
        ? ((nameClient.value = storage),
          (emailClient.value = storage),
          clientText.focus())
        : isStorageSupport &&
          (localStorage.setItem("nameClient", nameClient.value),
          localStorage.setItem("emailClient", emailClient.value));
  });
